---
apiVersion: v1
kind: Namespace
metadata:
  name: homepage
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: homepage-secret
  namespace: homepage
spec:
  encryptedData:
    HOMEPAGE_VAR_ADGUARD_PASSWORD: AgCuJjbB7dPC/jtgGGXCqi8qntxQXruXxh/RFuR5esSpuuuAEfwaFMam6VS7jsvFvbaeZFxQ8zJ4xLyabJZlS4ukOvQnzR6sWYXN6TeDqXjiBEaMprOWiGD6aH/IcQhH9fAtBCMkZz4quz2KbrUJ0R/pvnHfDM+InTqAEBOTbPpU/lU9YQ3scqh8cdwE6YKtq+Hk5qrQJf1BmcOaMxw/yyFRjIBAI6Lr3CNJi6RgGda8OeOxMS2IcKxoGy4mtAwjnwzFDV3i+5LYgimuC0DjmSMkEvb/sTDB0gzN2BhYpRi/H69U29l/uaBaqFYJWp9AKTYzxYljKC93GcxfNFQvAVONsT3pUlOAZyVqLtiE3E9GxuQoMjsX9fpMNDBM+QlUJFF1uRNs/Y7PlkDRj69W1MdEUv2uuRR+rB/zITZk+MkqsrWQVR6cfc2IJVY1QqWZ9m2J/rI8dNaJgr8N4VPxY24qdnWYPl0egqci64gi9mGPGEvWA3If5XZhxizze7+zrqd0MlDLimczgGahBoY4o58/eHdAPzWy/0micb/PF6y3RB8FVXs3GAnLJeoU49bUi0HTR9sTWYA11qb/WaWZU9wfhztZtoboK2VCz6yiY9HpG1bFbttDgOe6IHuCi0O/m81/AObCHXEgpzvY2U2KwdXQhjvxiparGPJ/o2USRIb+CKKLvoAtU4Y2kiDPeZLhUblc02GQuSoL9MdrzwC88e7ITPrievEUbB0=
    HOMEPAGE_VAR_ADGUARD_USERNAME: AgC/0sygY6ujX8Hl66Lu8/mGqU0lBonk3efLV4nRigBmSg0uHlsotm+UdDcvulQeSaav1+gDDnvJraLiqmfTiy3Kr5U8Z34yA92z9J7hfkJZtGk6jGxmVWRY8nePvLfhoUxnyqKV/2qfVXX52bIsxaXiObCae0APgzzBGJ5bXDw7akhOcGnPoCtv0O3hMHC6zsz+3K3gzj98Ow6DS2OeElS1lZY33MHsfDjTMdtnTIu9j5NHmw/DoSI22a8V5SsLsw3HNGRLYOgObPY2ab5ExjzOuqSmilT3g4FCB6c7ZcGl7rkmeVAB/R2+NMMAuj6jro9aXosV24dT6bDV0VvTWTHaFdlK9LQCtcSy2SLWDHwVyTX06fwxOduLLMJwZYuAgf0q/AsyxEVzuSLocCdubA1Nc7ApnwfbZraOXlJbRxkzUvVikNHi2fiLbhO+dMlAMKCBC3clVhk9hs+EBExmPImBHSDVsZhf7/wqhxb45qspyj3ItJezOwbqQ7xr1Ux/WZoXIfUhu+TfVCViIsgNPC+B3rwTA4IAITnOoNEjMH4Cyd6EegHGusgtcC51NALYbv+8V+Bxp2sf5n+S3Sd7nrnWJgufd1cdCpMQJwOIkvVy3Xmk8p2txUi7bVQokVjWN+8EjaHvzqD6chetPTJD1Rnm9sAoM/TbOyi35eIU7FgeUqiPY47lqM1/eoCm7f1xMH6P2MQaHw==
    HOMEPAGE_VAR_DSM_PASSWORD: AgC98WyIU0KMU448sYQhNaeXG4XBZFa29nu05t3HOI3hJi7ULDlpqsg0ufji2E8mmMZUMXuJX7PrgJYKr4yNIviKOMKAjArCETp4rviFU2cdc/u1EFKD+7xbIb9hYnMZFSUOPQFdumZpIIdsGGUICNJ8xBaJyuixuBRtGSibnCnkF5Q7PqN97Pkyl4Z/o/8v/xdlBQ29x+8KTwQORN0KPGGND8VRcDBUDfgjUe8m+ug/L0dWsQQxvqAh480Qrzv5iXLyA0lTsxDpkjgLyU1xwP3zpj+qDzPLaZOq4KpDDGXdTD6x2bALVtdsEExXffMGGaBt45RdiWtdHUzxMKy0jxkgxPoinXx8BdyPXgqbNxAMMc0XC64gS6bo2U3+R1eA/s4ZVJdkfxngq/jzhX+ZUPt2Nz9EcrAaBwjl5JZMgcNTeqvcCitqEyPlG3QBJLpwYMtqRC2lDy+7LNYbAzTdaVwylYqWWb6ZIbwA07jS0QgFF8bWHGoayKMn/scnkzT6zqxNfCA+wFyUW88PqHHyErx6DDHFIzIptd9ZCzVF0qnAj5PN8gc8Gn54VgWFikiM3ssPbUOpc9S6Oqz0rJmwySzyHnko5qkrewEfqWeZ+NTrEnVrAXIj963E3FkK5Xa8Pcs89cggYOthOe9PViU4yWsbMLa0F89eWRXjDmVYm4WVElp1p1O5OVXDEBHzEGgVXON6///TuT1A021uOZqNY58MYLc5hI45iP7ljeAY7DghwZSA4mglAA==
    HOMEPAGE_VAR_DSM_USERNAME: AgCBaFBA326FTgAUluCUNevXSUh2YTdyHkFUiaXt+T4W3kDkouEmUXoAAdh8q2nrDp0tZjLNaemw8CFxhNyHbRIz3gCMJBAn0PiMN7HCzgtgkjhkczzCAPT2Nvb4KQNodHuaYwpCtRgc08ztFaEuilJ0O8r4jKNGe4Z6wJbEGoSapwwEuGNRL+2wYQJBrCmrE3UofpZLd/RfBqoV9umtmVE6vPtKeWaQm6j24N8qhIVTTSs4EXZkK1YP4ncHNnTAt7P6OBZ/dho4nM4O204bez7mN49rVXAvcUpYDoG7Q2tpUliV76y650KeAS9T+GdAPo95SX3ufX+9bDH+9HrlU1Usc6kak0zcVGCpXWVqlI+iCV+/xXVTDXs2aYyrIFGBGpGCxPOGtlxyRxaZOxfEr8lVQ6FK0L4IVmsMt7qkBsInHEJlI1xQhePHOJKwqoDlyGPUBXSZAZ2fyG+EjWM1S+Sy/HgMnSo86wSISby+OpIHpE9EaIIjhADtq3Lh06HL2Y80bpuhSf9byGSGfuw9HjUIC3lcrAmY/u+hlVIkLCJOHOWE+ROf+43FllowFYW6/U8AZTB/CSNp+s/ghxQwYziK+rEYA5x9H7mbnisXtfW5krpUXU6SkvhErhptopVbeqTQkLqk5Eue3DaFeveBWLGQCtDh3dqVv4JDUaMcTZJaHJetv2Y72m8OlXqI6cbKwN1NSkD2SBbY5w==
    HOMEPAGE_VAR_JELLYFIN_KEY: AgBuRPaCBcfdoDG+63Twy1TSekZrQLrlupy4OhliqbucNU05ez3C0XEXhxoRUoxgDj8kWNL0Sut7mk7hBzSOMQgkxg1Fpf4avgCYvLGPMC3UVE4/MdvDrTD9K6A94aFx8p/70rXwLiKnW8KOv/fIyYhkpwIe8ak8f/C3woKRGXpH6HBM4SUO3VcS6OIz3Ko/SiGXW+W67OUP7ynMNcNQ0pShQMJi4J9u6hNMy394qzeJ6ILV2+s1apswuMB5SLQMMVnILVIZQBjAfETpiVvWRLj5td07fuKPqhlyj+jk5FQE040r3R7cndpG5B/FpCbu2FW0xzXqaYwi7IT0fgyIlzx901xFdXH3bjAk4fcroq/BU9x2hDRrhqoLDzCNqiyMHKbNh/xkSEYLjP379Wo09wvOwIoRGc7CjtKNGa0oZAXTv+IxTWlVWNNHSzesC/hd0NURuRyupebSJ+mKY/xBzPo1CqLQ2HM/AyMsYdGq6ImH8nviW0D83XjT9SEkvR7QfXy7zcNbb3POSzZnSkxdOY3JeMyiElqD74jMnwoo0xRjuNGgJi8OCt2/ikbouLbGgN4gfE86EF3PwHtgasXl1bveK7ht2ZXuqKbshspZqVsmrfMDg609RBdF5ACl5/rX7SX+nMutDHNvJ4Vd6aBF8lS3z+BeBzrzIyUGoRxlulGMATX3X7j76FAjm6BDez8XVpiUk1XwbxAT1WhdPgxCraaFMG0M3tXND5MOZCeKacbFFQ==
    HOMEPAGE_VAR_PYLOAD_PASSWORD: AgCHOe5orvjD39aMOu4ljJiNtRw4u+nn0SiRP9dL89K7ThWCDBEIrw71eTZfJNGQ8uBJ3ZvbOks7wjSKU6NfChr0MPlMnmGg/lYx2vPB3/sIwiANTn3ujlL5L2IuxaDGrygA7M0kIR12gMv+nDB0X7BOIzx5FTskgYf86jFqNUyx49BgqdX1IdSHf1ItOHEhVABbCZX0/Eq9V+0V3meze03c2PVyIIecLpRaVvUa+PHg9TAjQCWh8UMA3D7biONBmMIlJoGP++Rz3EWvFSq6hqbLt+B0Po4LpUOvTNzWML21alQCJpPHA7YpzTvwp6ZPvric+v6EsTFJWh91B5cUS1kvGE22etcHcQmjueCOR3R2UwVco7OusBb7LiV7mchm5XIwgBaJtpPe9LAXpjfs39sn5AvB/Oi/HqPjPOWy6yUG+XRcZpogCfrr2AtMCHGz+WMNhLyYHImaAuKfBwyMQEIA3SPWwiOtqG+ELqz0y2eHBVPCZEI3CsQQCmGGHTxdzRbRr49MM5sXjpnSA+I/u0Cn5WsmvcLwR0j5DT2TlNk20v7qNvxeeGQeMhXimiOVv7b2vvyUpnusXer0ccuIW+iFXHh0SOXvGYEtJErts8boyBHsElr4TmDkavV0uBmHvQeFX9+hp+6i9QcnHO+Ab+SdxUM9b5IAtXyl/jG2qmO84kaO3fVMSVBW6g+knpCxAaIkISa6iba8kq5uUw0fmE05WboEThpRgPk=
    HOMEPAGE_VAR_PYLOAD_USERNAME: AgC1zuPEp48h99ExDcRHxCWii0FdtQdqJHOAfNv3x+bDFxmGG1v2YhNS7shtTpzsUXrNb+43IrZ+pj1P3jqsuU7MtD4IogWpn5AEG0tghPkKiUIbEDuPU2sfUyTVsvwiaMZGnT4dSh5CCGlW5wv870mE3FpaqWLJN8+aIsnM7MyvgD1I5AY6CdhfNDqoL+wcnK2TO0ClYmFh4iaOIibweQhlsd5cjuOAs7ZlCHUYDkBv2x8gvwXLdo58MyCfgHj7f8Ia8TFgVi2KFizemwl+ILSm3CQNzCet11UNF88nt/7EYWo6pHEBfV4/RuouWsDQg9IjlFhyewPFhpTrUvosvIC4PwSTUmjpu7nY7Ene2tAn4NY46fRxOr6Nwy7hbSi1rrhCv4QHppFq2O3fNtmmLlT2NL3nRPXZpdsf6/9ka9Duv+esNT9fGzISu0M6w1qN06Fu8V22DlGfNXEGVDOs38fDUVI5J7mRtWlQcTEn0fBVj9iB87TAQZWxp7175CtmujiY4ojy+7yiun55MhWJH6DvF5lGHsnuyjKv9b/7ETgptoL/puNUk2N7p89LSTGNSwrAfjLOPRypnjxvjazFsqjoqWc78zmkQ1Z+G4R53KLqirknTSFx5vtKtcMAyZdIoczKijVpSBeydULbQHWA6u+2Z9E0ExJypFQcUd7eOTJ21CODIR3lQKFM9khO061tKGMTQhGw66S4vQ==
  template:
    metadata:
      name: homepage-secret
      namespace: homepage
    type: Opaque
---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: homepage
  namespace: argocd
spec:
  project: applications

  ignoreDifferences:
  - group: argoproj.io
    jsonPointers:
    - /status
    kind: Application

  syncPolicy:
    syncOptions:
    - CreateNamespace=true
    automated:
      allowEmpty: true
      prune: true
      selfHeal: true

  source:
    chart: homepage
    repoURL: https://jameswynn.github.io/helm-charts
    targetRevision: 2.0.1
    helm:
      valuesObject:
        config:
          settings:
            iconStyle: theme
            hideVersion: true
            target: _self
            layout:
            - Services:
                header: false
                style: row
                columns: 3
            - Favoris:
                style: row
                columns: 3
            - Favoris2:
                header: false
                style: row
                columns: 3
            language: fr
            providers:
              longhorn:
                url: https://longhorn.vfd.ovh
          bookmarks:
          - Favoris:
            - Agenda:
              - icon: mdi-calendar
                href: https://calendar.google.com/calendar/u/0/r?pli=1
            - Email:
              - icon: mdi-email
                href: https://mail.google.com/mail/
            - Youtube:
              - icon: si-youtube
                href: https://youtube.com
            - Twitch:
              - icon: si-twitch
                href: https://twitch.tv
            - Cloudflare:
              - icon: si-cloudflare
                href: https://cloudflare.com
            - Github:
              - icon: si-github
                href: https://github.com
          - Favoris2:
            - Convergence:
              - icon: mdi-email
                href: https://webmel.ac-creteil.fr
            - Mon Lycée:
              - icon: si-nextcloud
                href: https://psn.monlycee.net
            - Arena:
              - icon: mdi-castle
                href: https://externet.ac-creteil.fr
            - Cyclades:
              - icon: mdi-account-school
                href: https://candidat.examens-concours.gouv.fr/cyccandidat/portal/
            - Moodle Collège Sévigné:
              - icon: si-moodle
                href: https://moodlecollegesevigne.fr/login/index.php
            - Bibliothèque Sainte-Geneviève:
              - icon: mdi-library
                href: https://bsg.univ-paris3.fr
          services:
          - Services:
            - Jellyfin:
                icon: si-jellyfin
                href: https://jellyfin.vfd.ovh
                widget:
                  type: jellyfin
                  url: https://jellyfin.vfd.ovh
                  key: '{{HOMEPAGE_VAR_JELLYFIN_KEY}}'
            - Adguard Home:
                icon: si-adguard
                href: https://ns1.vfd.ovh
                ping: 192.168.10.230
                widget:
                  type: adguard
                  url: https://ns1.vfd.ovh
                  username: '{{HOMEPAGE_VAR_ADGUARD_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_ADGUARD_PASSWORD}}'
            - NAS:
                icon: si-synology
                href: https://nas-m.vfd.ovh
                ping: 192.168.10.251
                widget:
                  type: diskstation
                  url: https://nas-m.vfd.ovh
                  username: '{{HOMEPAGE_VAR_DSM_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_DSM_PASSWORD}}'
            - Pyload:
                icon: si-flood
                href: https://dl.vfd.ovh
                widget:
                  type: pyload
                  url: https://dl.vfd.ovh
                  username: '{{HOMEPAGE_VAR_PYLOAD_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_PYLOAD_PASSWORD}}'
            - Argo CD:
                icon: si-argo
                href: https://argocd.vfd.ovh
            - Longhorn:
                icon: si-rancher
                href: https://longhorn.vfd.ovh
            - Victoria Metrics 01:
                icon: si-victoriametrics
                href: https://vm01.vfd.ovh/vmui
            - Victoria Metrics 02:
                icon: si-victoriametrics
                href: https://vm02.vfd.ovh/vmui
            - Vaultwarden:
                icon: si-bitwarden
                href: https://vaultwarden.vfd.ovh
            - EMQX:
                icon: si-mqtt
                href: https://emqx.vfd.ovh
            - Zigbee:
                icon: si-zigbee
                href: https://zigbee-m.vfd.ovh
                ping: 192.168.10.80
            - Zigbee2MQTT:
                icon: si-zigbee2mqtt
                href: https://z2m.vfd.ovh
            - Home Assistant:
                icon: si-homeassistant
                href: https://ha.vfd.ovh
            - Music Assistant:
                icon: si-applemusic
                href: https://ma.vfd.ovh
            - Node-RED:
                icon: si-node-red
                href: https://nodered.vfd.ovh
            - Grafana:
                icon: si-grafana
                href: https://grafana.vfd.ovh
            - Imprimante:
                icon: mdi-printer
                href: https://printer-m.vfd.ovh
                ping: 192.168.10.155
            - Freebox:
                icon: mdi-wan
                href: https://router.vfd.ovh
                ping: 192.168.10.254
          widgets:
          - datetime:
              locale: fr
              format:
                dateStyle: long
                timeStyle: short
          - kubernetes:
              nodes:
                show: true
                cpu: true
                memory: true
                showLabel: true
              cluster:
                show: true
                cpu: true
                memory: true
                showLabel: true
                label: "total"
          - longhorn:
              total: true
              expanded: true
              labels: true
              nodes: true
          - search:
              provider: google
              target: _self
              showSearchSuggestions: true
          kubernetes:
            mode: cluster

        serviceAccount:
          create: true
          name: homepage

        enableRbac: true

        envFrom:
        - secretRef:
            name: homepage-secret

        ingress:
          main:
            enabled: true
            ingressClassName: nginx
            annotations:
              cert-manager.io/cluster-issuer: letsencrypt-prd
            hosts:
            - host: home.vfd.ovh
              paths:
              - path: /
                pathType: Prefix
            tls:
            - secretName: homepage-vfd-tls
              hosts:
              - home.vfd.ovh

  destination:
    server: "https://kubernetes.default.svc"
    namespace: homepage
