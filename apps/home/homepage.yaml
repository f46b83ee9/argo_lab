---
apiVersion: v1
kind: Namespace
metadata:
  name: homepage
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: homepage-secret
  namespace: homepage
spec:
  encryptedData:
    HOMEPAGE_VAR_ADGUARD_PASSWORD: AgA7kWEgKVwI41GfB5FFH1/GWmeiojd5DPB7xGwX4PGwKXYdKalYrR07lPWe4hoyn13jkC8OG8UokYdZRfbiB8kJ0xLv5yoataqMV3z77euJOEghKMZdxZxuDSoJs4buBGpTVxNeldmDLSQ7vEbaQ02razBUN0AzllBh+J7lVEQfIHHziJzdTe456yF7Oy5ke5AfLYOb7tcCn61jn44Gy7jFT76zX3vP0EDCc3Au1YfxvBkIvt6mNZKxFuGRS0GcEUyiB6i9kG27AFWXboRkfhP0D0O84zFwwRsoseQOzA5Hk0c//zOamZ5Re75T9AZiilOFAkubsQ+LwKJJOoOWIaF8daJ8les3alQw3g8tuJFPgnpalqAYbQDJq+LHYWCYtJ93UGGKKtqbQix7IB3WtvCzMpyrXXfOPipAQx2s32JwZZjCQ2sGRW75Ty4dh88bm4+b2I54el/Y0EGk57Du1xncqPDBLQLGQBtlSscsvLl3iQfO60dTVKR79e8MQwuPAqqbzeBeiPARzlB7sY8C78/RPZZ6rqUqRoz8e6LL/xmvh2Gsb62F0UYHax4JyoSP4XJtGirrwhuEDghsTfaotNcJK9NH/wn32XPGHiiLVr4rIBW+wGWjzJaabLd7X1cAE1fCkpr2AW7+OmgliRo6As41VF5lct5Xa2uEFsEfZfvqYDQ848C6STP6l0juEwaY+21MP+vI4p/n6S/wv9jG/v+Z+wWWJ0MBi6A=
    HOMEPAGE_VAR_ADGUARD_USERNAME: AgBqBc4UMNFNPgYll8bRn2zS1UrvR4LZZwoH0A/WWcf6NIUmOG3zrGBgdNvr56C4BJ3XWi2q766PT8N3S+fsoW2n2k5JaqNYFTiVt8UpHKJ7TDtHBxxjz90zHHsVHuvgwkvMSfflf/+cu4hNt0z7xdxcZN595siATWWdt2bRqJvGdeAUW/yeQso0fSLqT9/WOIHtJLXUTHOQob416VQhTAF4N6eY21ho3fh6AJmJXexWqNSd9vUDZDj+oRxFpGM0KWY3s5l/kfLvgTvVZKOpf9dG6ftlmOnUt8u+q/C+Vz68aREqwflVR0n9qgM6/wXgwflKdSXYdmt9qCGVPoBq3RC2bKrsGSUgYFNV3o8lL0L4FoLPdz3p5QeL8chaONMbNIJ8oDHGdE6g2RVQIplUUw5mDbySAjq2A8VA02Ab4QK2dsMAFuRk0CarP594Vne/v003XEPjbI2Ugjzu46LxOLJ3hOiwG2xTX2bYFuSnnbHm0EMY0No42ZV4xNIZ8CiHKtTO5xRJrlVTHbjpYIMLvWkJhS7fxtafsqnt9uVTO1Y9BkAYjoCl+AyihrmboATXL2yCt0XqPEpx3r/bh27CVzbgpfwGAGzmfbgVImPCRMRONgYkP3Mz1lg8y6gk2hqHbqK+ftpD4O3uBCLvzYwiZMfqYoaMvqi1cCLlqLmQbbbqfPN+K1M8T4v4AjAi44WL8m75Sr/I8A==
    HOMEPAGE_VAR_DSM_PASSWORD: AgCWk+2dHdUH38S7seZ5ayLZ6WVKQcZTcHUwegPNRuTJCAy0/C6h4EXBCxoBofog+bM3a8EXjY8/JhB/tqSduvP7ZictV5eypE0qW1DSO+As1GP55pUti/DN+RZ5HcFNcd2gB8FHZvKoVwHojICCd0NgcIseUPTPaxgwl8i9VFeYUh/o6st+g7lMJKvsp/mUexVzYj0EWfVk8tStZvXeb9K/aQFAWQ+mZWg9AOM+f1XwCmD0GaFgzXhKr3koKB30oqwTslukPC9ihrGL3NbyriC7yrLghXxC3t2cOpvcO0ZyLFfJ0y5HElrdvqlxt59b6pzob0kIJTD4ohC9rGRDIospazLS3UyPdDcFqFS/emwnbPEuQfaT8QlkIbjAuMkxPka5akgltgXXx5zVVqdfuvGIUFtpe7IRPM9EPRVFXctLIgX98udARzu2B7kXMFROW/5H1Swm/JC00RhJjUc3092+qTkFGyjOUAv8LbIVYWDBRD4EceMZau8H/XZq7h/oj7p390zecUeX2RiqN1iwr5jF2GhLzY6ou9lfFDRtEoe7u/Jtgun+4huR25iIdMovoEJPpP1pBGGr+HzOccTiTbsUXOaIlNyrn25zY4kFjV+snOTarcLVE2YC3FuZKgA/aXRK79o5udYnPU6BZfldz52jj7hHYKtPdFW3prLV9Bot+GCV+vzGXkTyCZd4ZEQgzHRLdKaK80oeKBEqJCN3Lv4LvY769w9txQZNXXBGvL0Rfp+3U2sjUQ==
    HOMEPAGE_VAR_DSM_USERNAME: AgBtLQmyxDiCrXtguJlPvi72d/0lJqZe8pWYN67RoVwXVGsOhnKq+ILjmfrhBMT0QEGS1nDDmoLfmnSwMiVPKJTAkoVXdIV2kJwoD9HhnXJfnaL9I46CT2qe8lrWXe9KoB0Ti2nBbaM8hcTYER3L6UMz7grBMCOc71ylvyD9qiNfVVH3Qxjo39fhQqzxyrjbLD6QJrY4mNC11g6WMrz2AZmW7XU3xRt4By4Up2E2Erbp6ZH3gsXy/CDqWvo3ae/WndeBxnw7jLmJrUEk1Tcxx8DjdrPZOUaM8sa492rIfNReYbWbmtWBmO6mNaR/ApjeK6SXg18H3kqQ+Y5rmK+pBUcRs5OoBHK5dEwEU5TM0W5d72Aa8yevEUjMU21DaD7xr0n7rhaxdjbwEOrZydIGUb5nwqujCZK01ZFgMErq/IWjCHf8PRBiJj0eqqD7eaqBrffk8gYTMqvHRHXPbCo4NHkAlCJKSJGca+sVK2c4sWGgbfIVO3XlTeHWaqXDBx7vxGhDcm7cZvaF5Tlz51yUcuj6eV88WYlmfQDss5btVwnRbw9DwNYDE7PjY4m3caUC4Zjga/kzvITT/sCXiZ4+3ehu6EYrWiHhphYmqW6W3PEtJL9hsiqh1fHw0x0uvGsloYX5DzAe2lw3nPqzPpTiplZ4BDM3VTEXdr5K0PQif92QfIEGzCAmH3O4JmfXVanwNWsz2Jd3BKTSrg==
    HOMEPAGE_VAR_JELLYFIN_KEY: AgCtzi/FKCRiq78oh3MZGYE+9rWW/HWQ40CFiBUXp0C3q/GV/khfpZse5Ma2OcLPehOu4XdMVlHIRngNx7QennACAJmc9/6kqVA25MMRg6/T9f7jLNVuy2ibw0duTFh7ZAkZEHvkt5WP/krzHeFLeW7TCDk+P3XHS4MlbN5Ua32zJBAXqd2Q8KZA0wv8pXI4NPEnXjJZov/qotGUMQooLgUTBavApys1Bnc5exhfFhaQzEvvAefjHjQJH+7IcpiYDXbRVX7nZ21zZXEPICx5OKC1dgxOK00wFphsnJqLh+5nGAbHKhLPEMIXWcMjWVHLzgTWvyR55Quo3EElWHyZ4bEvi3Yg8RaBMmEwyZzVizkcMEowH2V+FI2yWJLmIqaCfu7lUIo8gpnUs/KUjg8CXjOzyHr8xCuFvd+9YXWc8/91Y2zdSyk8khuxHnbXG5cG5ijKEbkge1LV4HYj3Ne5d/KZed5WaOaBjFPjihSUjqP1n15VoDMw+ksyAs0a5k7eOJovVx7Wn97EtgeNC5YthXk4LGbkRXG3sY1rhNG6gxkYWLdYQDi483sNv+xM5wIbkDYGIW4Vgjhl+h2cjw4c58Zsw9b4MZhFsPnSGcrrm+5CHDYHK+/Rd3/560JtmJ9WpaEC0sZBWidS0cJlEA6dFc5lijaWnFnIifF5GmqceAUI4oWs9RqEvvVRA7bi+sXL2NHaMaL7p5WTNSY7YbePIAndTE5I9itBzVuMemyF3pYB1w==
    HOMEPAGE_VAR_PYLOAD_PASSWORD: AgAZCmIgkT870xti+e5Eny8BhHafe2qn6n7e/IRB1KDfnL+Ma30leHUbLb1Dp8U+Nvi3264WacsHnnDO/08r8YWEE5rVZz5tRAsvexZRccwrg0fk87JWpg7aCmzMBV8pwi5Zshk4w92X9oPO3+BfoQkgQW2p1O2ob8Q/4CZnlMQPaJ8xf7GJDvNbqavxVyaehgIcoZrPBxc+N5h0BAPUvGssU2F+FLi9yPleE3Hihqx68tZtA/uJHp2jfbPuvYj6VLZ0HzecbBrAAlbSt8A9a5MyZ3BDxVM3pj02ByQzAa2tdBCWkHuZDWLsi4NG2OUebwDnWJMynZzImkcCvS2/RVxCWni8rGT+V9V9qnF41yd7sO3/OGkSipssIVKo+d2kdaiJf2TbUWYuTMrJ+KekqBYYPJ58J56zwLRzs5zHsQxUpzkFFrwbi4RkiW6zav7/n2/cmtQKJVqMW7BOQz088BPAP7oPnrGeX46xGxGJd1//GZtnPagshAq0hBIl2wnOk5AgkdK1jc0liLJmfo8s/U88iv2m2Z1WZAnyEGyjdFcEk9UGHJ1+oInSX3pWyCcC/Nik38CzV9LZMVRADm/+4LozKWNps/WIZ1ptsB9i5vXNsI5Gi8gL5memcji5eXiWCQ9aHifTwgtlG8tvY4Niq6jhxNwytZ/icEUlv3438R1x8V7u6wQEYZDEWagAv+b67Jzn65NDta9/xUaA9LEzcrvd0cADP1AIx7k=
    HOMEPAGE_VAR_PYLOAD_USERNAME: AgCsMhFERccBq88NK9vrxqccJymn+M5eQ1zatdUES6E6cE5phDczSCL9CAHWlcjD1Kdk2UNgIhLfFon4QHWg0R53yWiUed91TJ7djMP5LIeEqXKlKi17WrakpZpilMffZJe/LnLRexDp5Kp/RHWiDu3kphA4kO3wi3TAqmpnKDteyOikjtvnhxWH0CtCymvnQfds8j+6F+RNPmcCEBH5XhKT35eC1fZT0+yl3phdnehykLyk/cM6FymltbfHoQf3vieBQckTBUtbKNElhREO5QshEa1QcOl17nf9RhGb1kTChZ/1zwcCS9zbZwMZrF4yTXcT3kttczN6KHRQDLArIxAbdK4yYdC9Mrjn9jGNYmaulicdM9Jc73v6Aye6N7y3Q7ySKU5l1X6cUGp0sSKiiGmRCXpuhdUlA/9pi3iePJIGqzrpFFU/ZimVGyfHPhiuhSeNItmA03pZXyM5VnC00/5VeWI5o2fQaq1i0RS3x7vAD7UuDqp2WViTsCeaLNilZUUhXbmmtDjvmy+yul7Y/6FRn3CLZDlXX1caNRXzfjjCucFa9g+PUwM9a5b3cmknusIoalJUGeowKhjbsdwIGVjcbdV1ZM2uFul5SLugINH6i/9SzFMMFRFx78Kf1tfaFDLqPcpJwaIFDPfF0r4c+qJPHgtO5tG/V4AD5mQ+ardK35SzkCJRhv8uhrLqIu9beqzFpeT+CTs=
  template:
    metadata:
      name: homepage-secret
      namespace: homepage
    type: Opaque
---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: homepage
  namespace: argocd
spec:
  project: applications

  ignoreDifferences:
  - group: argoproj.io
    jsonPointers:
    - /status
    kind: Application

  syncPolicy:
    syncOptions:
    - CreateNamespace=true
    automated:
      allowEmpty: true
      prune: true
      selfHeal: true

  source:
    chart: homepage
    repoURL: https://jameswynn.github.io/helm-charts
    targetRevision: 2.0.1
    helm:
      valuesObject:
        config:
          settings:
            iconStyle: theme
            hideVersion: true
            target: _self
            layout:
            - Services:
                header: false
                style: row
                columns: 3
            - Favoris:
                style: row
                columns: 3
            - Favoris2:
                header: false
                style: row
                columns: 3
            language: fr
            providers:
              longhorn:
                url: https://longhorn.vfd.ovh
          bookmarks:
          - Favoris:
            - Agenda:
              - icon: mdi-calendar
                href: https://calendar.google.com/calendar/u/0/r?pli=1
            - Email:
              - icon: mdi-email
                href: https://mail.google.com/mail/
            - Youtube:
              - icon: si-youtube
                href: https://youtube.com
            - Twitch:
              - icon: si-twitch
                href: https://twitch.tv
            - Cloudflare:
              - icon: si-cloudflare
                href: https://cloudflare.com
            - Github:
              - icon: si-github
                href: https://github.com
          - Favoris2:
            - Convergence:
              - icon: mdi-email
                href: https://webmel.ac-creteil.fr
            - Mon Lycée:
              - icon: si-nextcloud
                href: https://psn.monlycee.net
            - Arena:
              - icon: mdi-castle
                href: https://externet.ac-creteil.fr
            - Cyclades:
              - icon: mdi-account-school
                href: https://candidat.examens-concours.gouv.fr/cyccandidat/portal/
            - Moodle Collège Sévigné:
              - icon: si-moodle
                href: https://moodlecollegesevigne.fr/login/index.php
            - Bibliothèque Sainte-Geneviève:
              - icon: mdi-library
                href: https://bsg.univ-paris3.fr
          services:
          - Services:
            - Jellyfin:
                icon: si-jellyfin
                href: https://jellyfin.vfd.ovh
                widget:
                  type: jellyfin
                  url: https://jellyfin.vfd.ovh
                  key: '{{HOMEPAGE_VAR_JELLYFIN_KEY}}'
            - Adguard Home:
                icon: si-adguard
                href: https://ns1.vfd.ovh
                ping: 192.168.10.230
                widget:
                  type: adguard
                  url: https://ns1.vfd.ovh
                  username: '{{HOMEPAGE_VAR_ADGUARD_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_ADGUARD_PASSWORD}}'
            - NAS:
                icon: si-synology
                href: https://nas-m.vfd.ovh
                ping: 192.168.10.251
                widget:
                  type: diskstation
                  url: https://nas-m.vfd.ovh
                  username: '{{HOMEPAGE_VAR_DSM_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_DSM_PASSWORD}}'
            - Pyload:
                icon: si-flood
                href: https://dl.vfd.ovh
                widget:
                  type: pyload
                  url: https://dl.vfd.ovh
                  username: '{{HOMEPAGE_VAR_PYLOAD_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_PYLOAD_PASSWORD}}'
            - Argo CD:
                icon: si-argo
                href: https://argocd.vfd.ovh
            - Longhorn:
                icon: si-rancher
                href: https://longhorn.vfd.ovh
            - Victoria Metrics 01:
                icon: si-victoriametrics
                href: https://vm01.vfd.ovh/vmui
            - Victoria Metrics 02:
                icon: si-victoriametrics
                href: https://vm02.vfd.ovh/vmui
            - Vaultwarden:
                icon: si-bitwarden
                href: https://vaultwarden.vfd.ovh
            - EMQX:
                icon: si-mqtt
                href: https://emqx.vfd.ovh
            - Zigbee:
                icon: si-zigbee
                href: https://zigbee-m.vfd.ovh
                ping: 192.168.10.80
            - Zigbee2MQTT:
                icon: si-zigbee2mqtt
                href: https://z2m.vfd.ovh
            - Home Assistant:
                icon: si-homeassistant
                href: https://ha.vfd.ovh
            - Music Assistant:
                icon: si-applemusic
                href: https://ma.vfd.ovh
            - Node-RED:
                icon: si-node-red
                href: https://nodered.vfd.ovh
            - Grafana:
                icon: si-grafana
                href: https://grafana.vfd.ovh
            - Imprimante:
                icon: mdi-printer
                href: https://printer-m.vfd.ovh
                ping: 192.168.10.155
            - Freebox:
                icon: mdi-wan
                href: https://router.vfd.ovh
                ping: 192.168.10.254
          widgets:
          - datetime:
              locale: fr
              format:
                dateStyle: long
                timeStyle: short
          - kubernetes:
              nodes:
                show: true
                cpu: true
                memory: true
                showLabel: true
              cluster:
                show: true
                cpu: true
                memory: true
                showLabel: true
                label: "total"
          - longhorn:
              total: true
              expanded: true
              labels: true
              nodes: true
          - search:
              provider: google
              target: _self
              showSearchSuggestions: true
          kubernetes:
            mode: cluster

        serviceAccount:
          create: true
          name: homepage

        enableRbac: true

        envFrom:
        - secretRef:
            name: homepage-secret

        ingress:
          main:
            enabled: true
            ingressClassName: nginx
            annotations:
              cert-manager.io/cluster-issuer: letsencrypt-prd
            hosts:
            - host: home.vfd.ovh
              paths:
              - path: /
                pathType: Prefix
            tls:
            - secretName: homepage-vfd-tls
              hosts:
              - home.vfd.ovh

  destination:
    server: "https://kubernetes.default.svc"
    namespace: homepage
