---
apiVersion: v1
kind: Namespace
metadata:
  name: homepage
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: homepage-secret
  namespace: homepage
spec:
  encryptedData:
    HOMEPAGE_VAR_ADGUARD_PASSWORD: AgChWgilELRp/Ozzjd7cqppJL6nNjZRo8VNe031LvG+AUkfj11ZOot5/OoHzjOlP5vxbM+ReD/YkWRBze3nwtsD1mI9zVpWFFcHgPZl2DsOPHeagJ1rfCB8afHYk5EDFzrESwWgFNpDvsD/UE8Yhw0q/DFmZfl/NsgJUYMn71o/tsZcoWr1Vn4otPVmSvSv3aoDojrQPkYCkjX74xvEzXh69vxjeSoKV79X5zMgT4m8/kkdOSny7laKVgqbTOqjUfBl1kxak+d8l9etWdIsetPwDYx8wOykBL+D3XWUNpLiP9IR8T0XcT39zSs0MDGMnfVzPFi0XdRClLBkBBysGhU263kyj9TpcJoGZxXfbHGVLMeyV0qJD3WCrYHnVVnWUbL6i7AR64Lp8FYu/6VsMNwmoF6LAYAz1/fDxpQnTOVFDuXG3Urm5Uv6PAFDvGDg6EpuFCh+uOVG+xtqyPNtr2Lr99hNGELHzKJP/iRlxfXKngQSyvL8XIMXJ+casJFfelplOYNvkxd9TkNQqahEGZabxQ9p0+D4nKCWpX6qKKHrWCINAdaIkALOmAaD4E+BS3lPawgL3iMILzxZUa8mpGtY3DRwU1BzLVM3YblBcsUtmiYzJOBIBkzuNbDEdTrxIOZSPAdG11jVS4A0p56slA+dgnNZlD7jodT4y6uhc88Yj0qTMgPYYD7/x998n+7nfbANiZjI3epKaqXjrH8lf/4Xq7hewy/4xhuA=
    HOMEPAGE_VAR_ADGUARD_USERNAME: AgAfO5TJOx72ermFa9+RBRJLW2A5PuimmW5fAdLLdm3UtHy/SATTpmgU2FHVFBkhgJ0Y1P5GWwAA0xTPYyuqJQZFUA1/4ZbQmnv4sUZe5W7arHKyllYv7IOvToEhmV8Qcg5vvkryDLUiwwIpIied3G7W1ylJqSfhNHzML9rYASIebS0FPLsZdn8veaHiSnuObYJf/BECvg6LLyS0a2wc4dGCPq6JRSPJau4bRK2sUdnNeWPLgE8suWxkQo12wUhQ+R02LunR3L61JSiY9f9xdITNkYppXikZ7BKFceUDZJZyim8jchIj3M8iBZ7y5CyWzpMglPpY+E1trxx1Fw2fAoCa2r/NPV9LkbjOq46w+VMsiVA30GTw164PQhFmoAINgLL94MtK8ajSFnz20CN347xqCNzlUnWoQENtfaCo+J1WbyMeHApoho14yaROPgrut3TDHDLJGD14WHr6DSk40OCVzk8EXCSFZvhWIMkAEVcsbOS5EXm6wzkVvBkpjG3ogzGJ0+Tvud3Y1c0Ca7qNP7ItCRtGEVYjITAmuBFu+Ly8OkZ5ZCERnn0w8a9XwvlnMUXdAJyZlkW/AgrRUdUmuvLxxfH9qDuGgGYdEmvJCJGRl9SN51dc0cUw4qjFqOCYsVNoRi9w+YRA2tn+LkHYLx0bifqV5oY0iJYMIaDRdbCL9BvfBHf4hy8fsSHq2zaLi/tPo9jrEw==
    HOMEPAGE_VAR_DSM_PASSWORD: AgDjEUJKnRZIityBDVVSuBOmItDOX4qpjsC9vXjg4JevCw00kAxE3E1rmQ5JE1iZbbEX6aN90+kbi7nkTCnnZZfkM+d9YNjrYYLYkb56oRjIUKkrdgdVLEOlO4QHZnL6SEChEhn7m82p7RfE4gS5lAJeEJaCxxV2QYy3WIiWYEi+CNQc+koPn33ahSdB5FY1u0IIFLAvRD2302uWLFFQVm3poNTuKpqoTnCLamGVlNyTcHyF/dsQWtZog8dGcyuQG0Gtj2Iv59lMDQuKaogmSIULNJIqMchgnyRtFBb+XraKoKxQdfq5KwjIt7RFS9wKij9ifPuGLlYCV5R7bfbCQX/cot7P+Ay5kJVGo9s3Ub79pxAlG/q84YfrKZj5gHX1x0KxZTlCVy65VYidxadB2LNLxjsXbGQzu2tZ3ZsYgKTrpK1UOU3mKuVrMyYYC0noWqy7/uBSatekIS4bTh73Cz4GF/7yfmi3OqBBjZqfev2FrG20NWQ5QwDrDahCEMnMsVdzPOQdgKZFBO1UUKentw0NviBF0nVWopGakxlirK52KaUeZ6iLgV/+XDxMEQG+mvy8oGjOj+Wft4w4NCJ14Gcy/pIh8sO9E8SIKVII1WemgpO2wltUdVr9ofEfoInrXqK73V0jZnrvUGR1zvxnYORCmlyGSKDVkC0Dy8YXvrO1G9iW2DqEfWx1ZZ3bIk6JxY4Y1cesMkU4jVlFtwsAsHLO0nKPvj0tlcBRByDCJtE3Fa9ARIfztw==
    HOMEPAGE_VAR_DSM_USERNAME: AgATy07AHqbdAyBQx9XPgROWu+vtmS2v69RekE+SrIgRfIfXtJ8xx4DsuE/EgL/GMFqxoz7elZ3j+kaLPk0rpca1K/YJbPzRyxDGnzP0sriLWI/REMKGaMNm587k5W1wwVUewevc9N+f/s8CGVu/vexYXWnIOdkHpj+700MJRREnrwjj3A6hrgrQeew4ZiezHFnZLvIxn7tfDhSDqNKS3yXSR2EeCDK3XkTP2R152VIE2hUk0aLKs8quw4F9X1UcAhCOS5VkPGeZgkOWqU/EXyvKHOrToXSCYVKDHDXSnZeROytjtez+dJS8PjKr55MUiOkOrnIXjQfesDOQXr8A6JABb49mouh3Z7bIbKCGFIatMZbtVA5BKGQzMufMI4aOk+4ybi6/B4WhmNIWs5+2NVjyraRfwdlKgIZZr7NrikCi2axb1Y1mSAya01Lhv803y7gpe61VmpPswUSCX/BsbmYtvbaZ7JBTaW2aSbdXYPz4ubJfYbnpVoU1w7dKdJuT4jzHnBuCnON5mC4XeWRfhcxs7z/+nTXh+04B4obNS8t7zvLndpg4jqJ98AKSJvkmwBfVhDzCNZBhYI0G+EaTWVFx21vRS+S5/MH+Fm39HD/+226xTe1nrqZksoJztBRFMlwgMyoCob0xMDTQiS67jbmCfqzeWYDCRheH3jBwjaWnMEiSAuUSd5mHPNA0yRX3Ul0fBL/OaDsWBA==
    HOMEPAGE_VAR_JELLYFIN_KEY: AgAZ3jPAapKWGjnHfpX2peK8a2TNpIJB2+4XmkE3BYIxHtbr5EFOmx7G9ncdkflgpOeKjpV9jVvdNqb+WiQ2Lzf5kq2PN/S2pgnyUey5QYddeKBczbSfAfkXyH38CKeKSjejH44VEgHFVRz6W+xaqR5pqO1ZeIBo3ZdGAGj0zJdHyfEmDHvwkRNOSbr0/6cL6nZr/xOkk4W4egIqr+JgRHHBik3ngEl4aa98l4nht91/Cbt+4apo1t7NYhjhRwj02Stm0TvKrEvWeoaC0JK/WiqMJhgAFxHDyyIou0Ce8+afAs6FFmS0x7FIcQfF2ScUedQ6fpVNFb3O+HRoUVoxY0Ks1XABrUkcg9SkIe6CiukhasS1+1wYrxqLzUazzm/t1ZpH+MEUbiW603snJGWb7ljxCUjgEIIRf4EBvmD/wrBiJDkpWo3dYNUaR11E4toBm7C7pMt8/eyKyeduHdeSdekDBaADI5hd8vemNfE37nuGiFCGbkGUSMt7aNJvRtIl51pG+HvhdUF2pBucfKPhhd0sNdZTTCHuRG9oIWIQdBF+Ra1HJpCZdjOBn/ROvCDZVfwdxdZUfUYFwUrSXM+HUoWRA59zmjJ45G4e8xNz5SwmDorCHhNINyM9EDTh62LxLP19lFKDMwqiiUcTvj3EwJUjq1dmOXpTyDHF7PjSIt4PEGlxVp7Wt3yn6Ho7M8cOX57M2ylme2uCXAe9MlPUmLFoH1M02vZS6wfgU8DVZ/IMlQ==
    HOMEPAGE_VAR_PYLOAD_PASSWORD: AgCHts7X18h+N2ggwRzUtKD2Cu6H6VR2x9XXb9V6HDYMPcaQjYrj+Q8SiGRbFxn1l9ktSNahgLXiRS8tOSbWKqr5CPH4bDg3Q/h/SCYzHDJr6WxFIf6QQ5ewJnJ1AKKX0qrYbK/XXtzULd+1lkkZIjCPHf89XiBN3G3jrqE4NgT/lKbCkP++mNIsDcDtkebLIzvfMGGX/lR8v9v+AFYt7IBgjJR21OPiD3//0JkHFbdJzwUq4/vow5zexynnK2+pEAXpqLdAXielOHgCN4zCWMfrjVtMQ7+q75Iikkdg3KinzypyM14YXyLG5tJnhbPUfy+c90RErP6KhoadqZu256Ahh/9B52u8MK/tvsmDstyvrTDANxAY9TvpUMUN8GH389UQ3yyWnyQuHIVp8Dnto1u2r01F+FXqpLk5C5gTOdfLWD8QWyD1i76P6xhW7soxNidzP8+X/JWnQ2obucM3espFXi0BqZMMxfH/Yf3fEyI9V09TaCWahkucYCv2NilQQ1T/OlefzOwe8GwZOHJTffolHgRHeCG3O4nzdRR26rwfu9BMN+5LNXpWMnwH/mXDsDSnTt/s4HfYVcd7JxeUtj5FCg4ZluEitBxBOtsa2ptQBg/T0D4m2cFcq8pIzgA1vp5U1QGi+r2OklAf8qzo+B+ny2Hiwh/X6sAa34OBuy0f5xkbQss5PZdssgZz4ndYDU/L6jJKgclLW4dipJRMuYM3urzOL3mjqXI=
    HOMEPAGE_VAR_PYLOAD_USER: AgAhPtnyXmZkMZtVopKDiGzcrRnlrX1C+bGKy04AR/pixM81IdnBrbjrTchsBllB6yLLdOuiFbG4VbTmXfFyEBdNo74SUd3G3LvtJbqzA1fbUePjvMc3jEaPHwKC30asvKaI8npU2MScxMAkjHHb+nr0odZWmTSwbeZfsk2byt+b8C8JSIqnQdvFneq7aZkX2hA4jn86s8NpzO+rNIOlJe8sX3EbscnjDxg2KRlAHPAizOtaRGXHppHv2Mu5ix0iEoDp9zLP9Wo3IVrvNxKdmLqGtEyavJ7bZ4jQnWLrhLbMZU+SuByWafc+OzsRdSAxlfOpfCRuqAhLEX0yZKH0OVeTIVhiAT4/1oL1n7fIoAUvJ98H4awIPwQcQ2SGKzFLyuZQzqaz4pDp8ETnED0I79hRdNwGXIWIFZEVAQaIf2U1KJHD0tXtQ8WRC0V9o4cKKQzwmW6Oun8TzlcBYWBkF72cfDZlsli6HDz02pmeWnSpaPRBxPnrVydLijBjwlQW5+uiw+Yznq1lAC9/dklA9S72kOrRWBd2PzJQvp7+hIGc2hhBqerJtoWhiPteOdQGv1fEFist419h0QE4zXKDSPprO+mfgqdgjJXTHaQsX0zUK3AWsv3afEdmQVjrd5jpVw7l5XzXdnaTygg+41vY84inQem6H/P1lreMxSdqwgOXzK8OpltOgZ4ep0T387udPUgwFzbHfLzeTw==
  template:
    metadata:
      name: homepage-secret
      namespace: homepage
    type: Opaque
---
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: homepage
  namespace: argocd
spec:
  project: applications

  ignoreDifferences:
  - group: argoproj.io
    jsonPointers:
    - /status
    kind: Application

  syncPolicy:
    syncOptions:
    - CreateNamespace=true
    automated:
      allowEmpty: true
      prune: true
      selfHeal: true

  source:
    chart: homepage
    repoURL: https://jameswynn.github.io/helm-charts
    targetRevision: 2.0.1
    helm:
      valuesObject:
        config:
          settings:
            iconStyle: theme
            hideVersion: true
            target: _self
            layout:
            - Services:
                header: false
                style: row
                columns: 3
            - Favoris:
                style: row
                columns: 3
            - Favoris2:
                header: false
                style: row
                columns: 3
            language: fr
            providers:
              longhorn:
                url: https://longhorn.vfd.ovh
          bookmarks:
          - Favoris:
            - Agenda:
              - icon: mdi-calendar
                href: https://calendar.google.com/calendar/u/0/r?pli=1
            - Email:
              - icon: mdi-email
                href: https://mail.google.com/mail/
            - Youtube:
              - icon: si-youtube
                href: https://youtube.com
            - Twitch:
              - icon: si-twitch
                href: https://twitch.tv
            - Cloudflare:
              - icon: si-cloudflare
                href: https://cloudflare.com
            - Github:
              - icon: si-github
                href: https://github.com
          - Favoris2:
            - Convergence:
              - icon: mdi-email
                href: https://webmel.ac-creteil.fr
            - Mon Lycée:
              - icon: si-nextcloud
                href: https://psn.monlycee.net
            - Arena:
              - icon: mdi-castle
                href: https://externet.ac-creteil.fr
            - Cyclades:
              - icon: mdi-account-school
                href: https://candidat.examens-concours.gouv.fr/cyccandidat/portal/
            - Moodle Collège Sévigné:
              - icon: si-moodle
                href: https://moodlecollegesevigne.fr/login/index.php
            - Bibliothèque Sainte-Geneviève:
              - icon: mdi-library
                href: https://bsg.univ-paris3.fr
          services:
          - Services:
            - Jellyfin:
                icon: si-jellyfin
                href: https://jellyfin.vfd.ovh
                widget:
                  type: jellyfin
                  url: https://jellyfin.vfd.ovh
                  key: '{{HOMEPAGE_VAR_JELLYFIN_KEY}}'
            - Adguard Home:
                icon: si-adguard
                href: https://ns1.vfd.ovh
                ping: 192.168.10.230
                widget:
                  type: adguard
                  url: https://ns1.vfd.ovh
                  username: '{{HOMEPAGE_VAR_ADGUARD_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_ADGUARD_PASSWORD}}'
            - NAS:
                icon: si-synology
                href: https://nas-m.vfd.ovh
                ping: 192.168.10.251
                widget:
                  type: diskstation
                  url: https://nas-m.vfd.ovh
                  username: '{{HOMEPAGE_VAR_DSM_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_DSM_PASSWORD}}'
            - Pyload:
                icon: si-flood
                href: https://dl.vfd.ovh
                widget:
                  type: pyload
                  url: https://dl.vfd.ovh
                  username: '{{HOMEPAGE_VAR_PYLOAD_USERNAME}}'
                  password: '{{HOMEPAGE_VAR_PYLOAD_PASSWORD}}'
            - Argo CD:
                icon: si-argo
                href: https://argocd.vfd.ovh
            - Longhorn:
                icon: si-rancher
                href: https://longhorn.vfd.ovh
            - Victoria Metrics 01:
                icon: si-victoriametrics
                href: https://vm01.vfd.ovh/vmui
            - Victoria Metrics 02:
                icon: si-victoriametrics
                href: https://vm02.vfd.ovh/vmui
            - Vaultwarden:
                icon: si-bitwarden
                href: https://vaultwarden.vfd.ovh
            - EMQX:
                icon: si-mqtt
                href: https://emqx.vfd.ovh
            - Zigbee:
                icon: si-zigbee
                href: https://zigbee-m.vfd.ovh
                ping: 192.168.10.80
            - Zigbee2MQTT:
                icon: si-zigbee2mqtt
                href: https://z2m.vfd.ovh
            - Home Assistant:
                icon: si-homeassistant
                href: https://ha.vfd.ovh
            - Music Assistant:
                icon: si-applemusic
                href: https://ma.vfd.ovh
            - Node-RED:
                icon: si-node-red
                href: https://nodered.vfd.ovh
            - Grafana:
                icon: si-grafana
                href: https://grafana.vfd.ovh
            - Imprimante:
                icon: mdi-printer
                href: https://printer-m.vfd.ovh
                ping: 192.168.10.155
            - Freebox:
                icon: mdi-wan
                href: https://router.vfd.ovh
                ping: 192.168.10.254
          widgets:
          - datetime:
              locale: fr
              format:
                dateStyle: long
                timeStyle: short
          - kubernetes:
              nodes:
                show: true
                cpu: true
                memory: true
                showLabel: true
              cluster:
                show: true
                cpu: true
                memory: true
                showLabel: true
                label: "total"
          - longhorn:
              total: true
              expanded: true
              labels: true
              nodes: true
          - search:
              provider: google
              target: _self
              showSearchSuggestions: true
          kubernetes:
            mode: cluster

        serviceAccount:
          create: true
          name: homepage

        enableRbac: true

        envFrom:
        - secretRef:
            name: homepage-secret

        ingress:
          main:
            enabled: true
            ingressClassName: nginx
            annotations:
              cert-manager.io/cluster-issuer: letsencrypt-prd
            hosts:
            - host: home.vfd.ovh
              paths:
              - path: /
                pathType: Prefix
            tls:
            - secretName: homepage-vfd-tls
              hosts:
              - home.vfd.ovh

  destination:
    server: "https://kubernetes.default.svc"
    namespace: homepage
